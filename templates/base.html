<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>{% block title %}{% endblock title %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
      @import url('https://webfontworld.github.io/tmoney/TmoneyRoundWind.css');

      @font-face {
        font-family: '양진체';
        src: url('https://cdn.jsdelivr.net/gh/supernovice-lab/font@0.9/yangjin.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }

      * { font-family: 'TmoneyRoundWind'; }

      .navbar-brand { font-family: '양진체'; }

      {% block style %}{% endblock style %}
    </style>
  </head>
  <body>
    <div class="container-fluid">
    {% include 'nav.html' %}
    {% block body %}{% endblock body %}
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      {% comment %} const form = document.querySelector('#follow-form')
      const csrftoken =  document.querySelector('[name=csrfmiddlewaretoken]').value
      form.addEventListener('submit', function (event) {
        event.preventDefault()
        const userId = event.target.dataset.userId
        axios({
          method:'POST',
          url: `/account/${userId}/follow/`,
          headers: {'X-CSRFToken':csrftoken,}
        })
        .then((response) => {
          console.log(response.data)
          const isFollowed = response.data.is_fallowed
          const followBtn = document.querySelector('#follow-form > input[type=submit]')
          if (isFollowed === true) {
            followBtn.value = '언팔로우'
          } else {
            followBtn.value = '팔로우'
          }
          const followingsConuntTag = document.querySelector('#followings-count')
          const followersCountTag = document.querySelector('#followers-count')
          const followingsCountData = response.data.followings_count
          const followersCountDate = response.data.followers_conunt
          followingsCountTag.textContent = followingsCountData
          followersCountTag.textContent = followersCountData
        })
      })  {% endcomment %}
    </script>
    {% block script %}{% endblock script %}
  </body>
</html>